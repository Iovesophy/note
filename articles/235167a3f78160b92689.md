---
title: "Gitå…¥é–€"
emoji: "ğŸ‘"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [git,github]
published: true
---

Gitã‚’æ”¹ã‚ã¦ã—ã£ã‹ã‚Šå­¦ã³ç›´ã—ã¦ã„ã‚‹ãƒ¡ãƒ¢ã€‚

## ç’°å¢ƒ
+ macOS Bigsur
+ git version 2.24.3 (Apple Git-128)

## ç›®æ¨™
+ ãƒ–ãƒ©ãƒ³ãƒåã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«è¡¨ç¤ºã—ãŸã„
+ tabè£œå®Œã‚’ã—ãŸã„
+ å„ç¨®è¨­å®šã‚’ä¸€ç™ºã§è¡Œã„ãŸã„

macOSã®æ¨™æº–shellã¯æœ€è¿‘ã¯zshã«ãªã£ãŸã®ã§ã€zshã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç­‰ã‚’ä½œã‚‹å¿…è¦ã‚ã‚Šã€‚

ä»¥ä¸‹ã®è¨­å®šå†…å®¹ã¯ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ãƒ–ãƒ©ãƒ³ãƒåç­‰ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ã‚‚ã®
.zshrcã‚’ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä½œæˆ

```bash:terminal
touch ~/.zshrc
```

ä»¥ä¸‹ã®è¨­å®šã‚’.zshrcã«æ›¸ãè¾¼ã‚€

```bash:settingfile
source ~/.zsh/completion/git-prompt.sh
setopt PROMPT_SUBST
PS1='[%n@%m %c$(__git_ps1 " (%s)")]\$ '
fpath=(~/.zsh/completion $fpath)
autoload -Uz compinit && compinit -i
```

æ›¸ãè¾¼ã‚€
```
cat ./settingfile > ~/.zshrc
```

source ~/.zsh/completion/git-prompt.shã§èª­ã¿è¾¼ã‚€git-prompt.shã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

```bash:terminal
$ mkdir -p ~/.zsh/completion/
$ curl -LO https://raw.githubusercontent.com/git/git/master/contrib/completion/git-prompt.sh
$ mv ./git-prompt.sh ~/.zsh/completion/
```
ã“ã‚Œã§ã€Gitã‚’terminalã§ä½¿ã„ã‚„ã™ããªã£ãŸã€‚

æ¬¡ã«Gitã®configã‚’è¡Œã†ã€‚

user.nameã¯è‡ªç”±ã«æ±ºã‚ã‚‰ã‚Œã‚‹ãŒã“ã“ã§ã¯PCã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã«ã—ã¦ã¿ã‚‹

```bash:terminal
$ git config --global user.name `whoami`
```

ã¡ãªã¿ã«ã€user.emailã¯æ™®æ®µä½¿ã£ã¦ã„ã‚‹ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ç­‰ã‚’ä½¿ç”¨ã—ãŸããªã„å ´åˆã€githubç­‰ã«ã‚ã‚‹private emailã‚’ä½¿ã†ã®ã‚‚ä¸€ã¤ã®æ‰‹ã§ã‚ã‚‹ã€‚

githubã§ã®ä¾‹

ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³ã‚‚ã—ãã¯æ–°è¦ä½œæˆã™ã‚‹ã€‚

settingsã‚’ã‚¯ãƒªãƒƒã‚¯
![](https://storage.googleapis.com/zenn-user-upload/gmhwf6c18961g7wtcc4c0mjvg84f)
Emailsã‚’ã‚¯ãƒªãƒƒã‚¯
![](https://storage.googleapis.com/zenn-user-upload/at3s778pn0ndcnp3yulml14ilt67)
Keep my email address privateã®ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€æç¤ºã•ã‚Œã‚‹emailã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãŠã
![](https://storage.googleapis.com/zenn-user-upload/zej381k46kgsqf4b4uk1tss2sr0p)

ä»¥ä¸‹ã‚’å®Ÿè¡Œã™ã‚‹([youremailinfo]ã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„)
```bash:terminal
$ git config --global user.email [youremailinfo]@users.noreply.github.com
```

æ¬¡ã«rsaå…¬é–‹éµã‚’githubã«ç™»éŒ²ã™ã‚‹ã€‚
ã“ã‚Œã§ã€sshçµŒç”±ã§ã®ã‚¯ãƒ­ãƒ¼ãƒ³ãŒã§ããŸã‚Šã™ã‚‹ã€‚

ã¾ãšã€ä»¥ä¸‹ã‚’å®Ÿè¡Œ
```bash:terminal
$ ssh-keygen
```
å¿…è¦äº‹é …ã‚’å…¥åŠ›ã—ã¦rsaæš—å·ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã™ã‚‹
â€»é€”ä¸­ã§ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®è¨­å®šã‚’èã‹ã‚Œã¾ã™ãŒç©ºæ¬„ã§ã‚‚é€šã‚Šã¾ã™ã€‚

.sshãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã¸ç§»å‹•ã€å…¬é–‹éµã®ãƒ‡ãƒ¼ã‚¿ã‚’catã§è¡¨ç¤ºãƒ‘ã‚¤ãƒ—ã§ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹ã€‚

```bash:terminal
$ cat ~/.ssh/id_rsa.pub | pbcopy
```

æ¬¡ã«githubã«å†åº¦ã‚¢ã‚¯ã‚»ã‚¹ã—ã€settingsã‚’ã‚¯ãƒªãƒƒã‚¯
![](https://storage.googleapis.com/zenn-user-upload/gmhwf6c18961g7wtcc4c0mjvg84f)
SSH and GPG keysã‚’ã‚¯ãƒªãƒƒã‚¯
![](https://storage.googleapis.com/zenn-user-upload/topc4ijpvgfxa65thz0y6ltjfa13)

ä»¥ä¸‹ã®æ‰‹é †ã§èµ¤ä¸¸ã®ãƒ†ã‚­ã‚¹ãƒˆãƒœãƒƒã‚¯ã‚¹ã«è²¼ã‚Šä»˜ã‘ã€ã“ã®éš›titleã¯ç‰¹ã«å¿…è¦ãªã‘ã‚Œã°ç©ºæ¬„ã§ã‚‚é€šã‚Šã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/v11clunaov465jsbsfhky5pm2y43)
![](https://storage.googleapis.com/zenn-user-upload/h23ko0sxmjvzak7qp2kl476kwshm)

æ¬¡ã«ã€.sshã®configã«è¨­å®šã‚’è¿½è¨˜ã™ã‚‹ã€‚

```bash:terminal
$ vi ~/.ssh/config
```

ä»¥ä¸‹ã‚’æœ«å°¾ã«è¿½è¨˜ã—ã¾ã™ã€‚

```bash:config
Host github.com
    HostName github.com
        Port 22
        User git
        IdentityFile ~/.ssh/id_rsa
```
ã“ã‚Œã§sshã‚’ç”¨ã„ã¦ã‚»ã‚­ãƒ¥ã‚¢ã«æ¥ç¶šãŒã§ãã¾ã™ã€‚

ä¸€æ‹¬ã§åˆæœŸè¨­å®šã‚’è¡Œã†ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ãã¾ã—ãŸã€‚

åˆæœŸè¨­å®šã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```bash:git_initset_script.sh
#!/bin/zsh

/bin/echo "************************************************"
/bin/echo "Welcome to git-initset-script ver: 1.0"
/bin/echo "Caution! , this script support only macOS's zsh ."
/bin/echo "************************************************"

<<COMMENT_OUT
This scripts target shell is only zsh , so if you want to use script for bash , please regulation yourself .
for example .zshrc â†’ .bashrc

- Attention notice
If you already setting .zshrc , this script remove your setting .
COMMENT_OUT

/bin/echo "+ Make .zshrc on home"
touch ~/.zshrc
cat ./settingfile > ~/.zshrc

/bin/echo "+ Make dir ~/.zsh/completion (add p option)"
mkdir -p ~/.zsh/completion/

/bin/echo "+ Download git-prompt.sh"
curl -LO https://raw.githubusercontent.com/git/git/master/contrib/completion/git-prompt.sh
mv ./git-prompt.sh ~/.zsh/completion/

/bin/echo "+ Setting global user.name , user.email"
/bin/echo "+ Add whoami username to user.name"
/bin/echo "*********"
whoami
/bin/echo "*********"

# set whoami.
git config --global user.name `whoami`

/bin/echo "+ Please input setting email ."
/bin/echo "â€»You can use private email on github and any git cloud service's private email ."
/bin/echo -n "Â» "

read email

# set input email.
git config --global user.email $email

echo "Done , Please check any setting files yourself ."
echo "Start your happy Git life . ğŸ€ "
```

```bash:settingfile
source ~/.zsh/completion/git-prompt.sh
setopt PROMPT_SUBST
PS1='[%n@%m %c$(__git_ps1 " (%s)")]\$ '
fpath=(~/.zsh/completion $fpath)
autoload -Uz compinit && compinit -i
```

ã“ã‚Œã§Gitã‚’æœ€ä½é™å¿«é©ã«ä½¿ã†ãŸã‚ã®æº–å‚™ãŒã§ãã¾ã—ãŸã€‚

:::message
â€»é–“é•ã„ã€èª¤æ¤ç­‰ã€ç™ºè¦‹ã•ã‚Œã¾ã—ãŸã‚‰ã”æŒ‡æ‘˜ã€ã”æŒ‡å—ã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™ã€‚
:::

å‚è€ƒ
git-prompt.sh https://raw.githubusercontent.com/git/git/master/contrib/completion/git-prompt.sh
